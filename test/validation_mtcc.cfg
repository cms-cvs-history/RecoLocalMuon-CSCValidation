process TEST = {

  source = PoolSource {
       untracked vstring fileNames = {
        "file:/uscms_data/d1/akub19/valData/MTCC/CSCValidation_mtcc_run4318.0.root" ,
        "file:/uscms_data/d1/akub19/valData/MTCC/CSCValidation_mtcc_run4318.1.root" ,
        "file:/uscms_data/d1/akub19/valData/MTCC/CSCValidation_mtcc_run4318.2.root" ,
        "file:/uscms_data/d1/akub19/valData/MTCC/CSCValidation_mtcc_run4318.3.root"
       }
  }


  untracked PSet maxEvents = {untracked int32 input = 100000}


# These are some geometry modules needed for recHits and segments
  include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
  include "Geometry/CSCGeometry/data/cscGeometry.cfi"
  es_module = MuonNumberingInitialization { }

#--------------------------------------------------
# Specify the database and conditions 
#--------------------------------------------------

### "Fake" DB
  include "CalibMuon/Configuration/data/CSC_FakeDBConditions.cff"
  include "EventFilter/CSCRawToDigi/data/cscFrontierCablingUnpck.cff"


#--------------------------------------------------
# Specify the data unpacker, which makes the digi
# (Not needed for simulations...)
#--------------------------------------------------

  include "EventFilter/CSCRawToDigi/data/cscUnpacker.cfi"
  replace muonCSCDigis.isMTCCData = true

#--------------------------------------------------
# Specify the recHit reconstruction routine.
#--------------------------------------------------

  include "RecoLocalMuon/CSCRecHitD/data/cscRecHitD.cfi"

#--------------------------------------------------
# Specify the segment reconstruction routine.
#--------------------------------------------------

  include "RecoLocalMuon/CSCSegment/data/cscSegments.cfi" 

#--------------------------------------------------
# Setup the CSCValidation package
#--------------------------------------------------

  module cscValidation = CSCValidation{
    untracked string  rootFileName = 'validationHists_mtcc.root' 
    untracked bool    isSimulation = false
  }

#--------------------------------------------------
# Specify the analysis path and output module.
#--------------------------------------------------

  path p = {muonCSCDigis, csc2DRecHits, cscSegments, cscValidation}

}
